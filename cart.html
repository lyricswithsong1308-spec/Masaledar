<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cart - Yujani</title>
  <style>
    body { font-family: Arial, sans-serif; padding:20px; background:#fff;}
    h1 { text-align:center; }
    table { width:100%; border-collapse:collapse; margin-top:20px;}
    th, td { border:1px solid #ddd; padding:10px; text-align:center; }
    th { background:#f0f0f0; }
    img { width:80px; height:80px; object-fit:cover; border-radius:5px;}
    button { padding:5px 10px; border:none; background:black; color:white; cursor:pointer; border-radius:5px;}
    button:hover { background:#444;}
    .total { text-align:right; font-size:1.2em; margin-top:10px;}
  </style>
</head>
<body>

<h1>Your Cart</h1>
<table id="cart-table">
  <thead>
    <tr>
      <th>Image</th>
      <th>Product</th>
      <th>Price</th>
      <th>Quantity</th>
      <th>Subtotal</th>
      <th>Remove</th>
    </tr>
  </thead>
  <tbody></tbody>
</table>
<div class="total" id="total"></div>

<button onclick="checkout()">Checkout</button>

<script>
  let productImages = {
    "Jeera":"images/cumin.jpg",
    "Turmeric":"images/turmeric-root-and-powder.jpg",
    "Cinnamon":"images/Benefits of cinnamon.jpg"
  };

  function renderCart(){
    let cart = JSON.parse(localStorage.getItem('cart'));
    let tbody = document.querySelector('#cart-table tbody');
    tbody.innerHTML = '';
    let total = 0;
    cart.forEach((item,index) => {
      let subtotal = item.price * item.qty;
      total += subtotal;
      tbody.innerHTML += `
        <tr>
          <td><img src="${productImages[item.name]}" alt="${item.name}"></td>
          <td>${item.name}</td>
          <td>₹${item.price}</td>
          <td>${item.qty}</td>
          <td>₹${subtotal}</td>
          <td><button onclick="removeItem(${index})">X</button></td>
        </tr>
      `;
    });
    document.getElementById('total').innerText = 'Total: ₹' + total;
  }

  function removeItem(index){
    let cart = JSON.parse(localStorage.getItem('cart'));
    cart.splice(index,1);
    localStorage.setItem('cart', JSON.stringify(cart));
    renderCart();
  }

  function checkout(){
    alert("Thank you for your order! You can now submit this in Netlify form or handle manually.");
    localStorage.removeItem('cart');
    window.location.href = 'index.html';
  }

  renderCart();
</script>

</body>
</html>
